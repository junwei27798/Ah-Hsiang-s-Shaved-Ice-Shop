<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>配料選擇</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>

  <h3>基本配料（最多 4 個）</h3>
  <div id="base-area"></div>

  <h3>額外配料（不限制）</h3>
  <div id="extra-area"></div>

  <script>
    const ingredients = ['起司', '番茄', '洋蔥', '生菜', '培根'];

    const state = {};
    let baseTotal = 0;
    const baseLimit = 4;

    const baseArea = document.getElementById('base-area');
    const extraArea = document.getElementById('extra-area');

    ingredients.forEach(name => {
      state[name + '_base'] = 0;
      state[name + '_extra'] = 0;

      // ✅ 基本配料
      const baseDiv = document.createElement('div');
      baseDiv.className = 'card base';
      baseDiv.textContent = name + '：';

      const baseMinus = document.createElement('button');
      baseMinus.textContent = '➖';
      baseMinus.onclick = () => change(name, -1, true);

      const baseCount = document.createElement('span');
      baseCount.id = name + '_base';
      baseCount.textContent = '0';

      const basePlus = document.createElement('button');
      basePlus.textContent = '➕';
      basePlus.onclick = () => change(name, 1, true);

      baseDiv.appendChild(baseMinus);
      baseDiv.appendChild(baseCount);
      baseDiv.appendChild(basePlus);
      baseArea.appendChild(baseDiv);

      // ✅ 額外配料
      const extraDiv = document.createElement('div');
      extraDiv.className = 'card extra';
      extraDiv.textContent = name + '：';

      const extraMinus = document.createElement('button');
      extraMinus.textContent = '➖';
      extraMinus.onclick = () => change(name, -1, false);

      const extraCount = document.createElement('span');
      extraCount.id = name + '_extra';
      extraCount.textContent = '0';

      const extraPlus = document.createElement('button');
      extraPlus.textContent = '➕';
      extraPlus.onclick = () => change(name, 1, false);

      extraDiv.appendChild(extraMinus);
      extraDiv.appendChild(extraCount);
      extraDiv.appendChild(extraPlus);
      extraArea.appendChild(extraDiv);
    });

    function change(name, diff, isBase) {
      const key = name + (isBase ? '_base' : '_extra');
      let value = state[key] + diff;

      if (value < 0) return;

      if (isBase) {
        const newTotal = baseTotal + diff;
        if (newTotal > baseLimit) {
          alert('基本配料最多只能選 ' + baseLimit + ' 份');
          return;
        }
        baseTotal = newTotal;
      }

      state[key] = value;
      document.getElementById(key).textContent = value;
    }
  </script>

</body>
</html>
